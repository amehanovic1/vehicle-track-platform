<nav class="navbar">
  <div class="navbar-container">
    <a class="navbar-brand" routerLink="/dashboard" style="text-decoration: none;">
      <span class="navbar-title">AutoTrack <span class="navbar-title-pro">PRO</span></span>
    </a>
    
    <div class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" routerLink="/home" routerLinkActive="is-active">
          Dashboard
        </a>
        <a class="navbar-item" routerLink="/vehicles" routerLinkActive="is-active">
          Vehicles
        </a>
        <a class="navbar-item" routerLink="/drivers" routerLinkActive="is-active">
          Drivers
        </a>
        <div class="navbar-dropdown">
          <a class="navbar-item">
            Analytics <i class="fas fa-chevron-down"></i>
          </a>
          <div class="dropdown-content">
            <a class="dropdown-item" routerLink="/fuel">Fuel Analytics</a>
            <a class="dropdown-item" routerLink="/maintenance">Maintenance</a>
            <!-- <a class="dropdown-item" routerLink="/drivers">Driver Performance</a> -->
          </div>
        </div>
      </div>
      
      <div class="navbar-end">
        @if (userInfo$ | async) {
          <button class="navbar-item report-btn" (click)="downloadReport()">
            <i class="fas fa-file-pdf"></i> Download Report
          </button>
          <div class="user-profile-dropdown" 
            (click)="toggleProfileMenu()"
            (blur)="onProfileBlur($event)"
            tabindex="0">
            <div class="user-profile">
              <i class="fas fa-user-circle"></i>
              <div class="user-info">
                <span class="user-name">{{ (userInfo$ | async)?.firstName || 'Guest' }}</span>
                <span class="user-role">{{ (userInfo$ | async)?.email || 'Not logged in' }}</span>
              </div>
              <i class="fas fa-chevron-down profile-arrow"></i>
            </div>
            <div class="profile-dropdown-menu" [class.show]="profileMenuOpen">
              <a class="profile-menu-item" routerLink="/settings">
                <i class="fas fa-cog"></i> Settings
              </a>
              <div class="menu-divider"></div>
              <a class="profile-menu-item logout-item" (click)="logout()">
                <i class="fas fa-sign-out-alt"></i> Logout
              </a>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
</nav>