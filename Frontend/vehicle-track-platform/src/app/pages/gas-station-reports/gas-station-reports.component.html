<div class="container">
  <div class="header">
    <h2>Fuel Price Reports - {{companyName}}</h2>
    <div class="actions">
      <button (click)="generateNewReport()" [disabled]="isLoading">
        {{isLoading ? 'Generating...' : 'Generate New Report'}}
      </button>
      <button class="outline" (click)="goBack()">Back to Companies</button>
    </div>
  </div>

  <div class="content">
    @if (isLoading && reports.length === 0) {
      <div class="loading">Loading reports...</div>
    }
    @else if (reports.length > 0) {
      <table>
        <thead>
          <tr>
            <th>Report Name</th>
            <th>Document ID</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          @for (report of reports; track report.documentId) {
            <tr>
              <td>{{ report.name }}</td>
              <td>#{{ report.documentId }}</td>
              <td>
                <button (click)="downloadReport(report.documentId)" [disabled]="isDownloading">
                  {{isDownloading ? 'Downloading...' : 'Download PDF'}}
                </button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    }
    @else {
      <div class="empty-state">
        <h3>No Reports Available</h3>
        <p>There are no fuel price reports for this gas station yet.</p>
        <button (click)="generateNewReport()" [disabled]="isLoading">
          Generate First Report
        </button>
      </div>
    }
  </div>
</div>